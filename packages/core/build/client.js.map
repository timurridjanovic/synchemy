{"version":3,"sources":["../src/client.js"],"names":["callListeners","listeners","store","loaders","Object","values","forEach","listener","subscribeCallback","prevState","containsChange","changes","entries","change","debouncePerAnimationFrame","func","params","debounce","isOpen","ws","readyState","OPEN","isConnecting","CONNECTING","SynchemyClient","host","actions","client","onMessage","queue","Error","createConnection","action","registerAction","name","options","WebSocket","onmessage","data","response","JSON","parse","message","messageId","find","m","resolve","updateStore","processResponse","newResult","asyncActions","filter","onclose","event","code","navigator","onLine","mapStateToProps","state","callback","shouldUpdate","newState","listenerId","_","otherListeners","Promise","reject","getMessage","newMessage","push","send","stringify","onopen","actionName","getAction","throttle","newAction","methodName","split","map","word","index","toLowerCase","substring","toUpperCase","join","loading"],"mappings":"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","sourcesContent":["import { v4 as uuid } from 'uuid'\nimport WebSocket from 'isomorphic-ws'\nimport { debounce, throttle } from 'lodash'\nimport { raf, caf } from './requestAnimationFrame'\n\nconst callListeners = (listeners, store, loaders) => {\n  Object.values(listeners).forEach(listener => {\n    listener.subscribeCallback(listener.prevState, store, loaders, listener)\n  })\n}\n\nconst containsChange = (changes, prevState) => {\n  for (const change of Object.entries(changes)) {\n    if (prevState[change[0]] !== change[1]) {\n      return true\n    }\n  }\n\n  return false\n}\n\nconst debouncePerAnimationFrame = (func, params) => {\n  // If there's a pending function call, cancel it\n  if (func.debounce) {\n    caf(func.debounce)\n  }\n  // Setup the new function call to run at the next animation frame\n  func.debounce = raf(() => {\n    func(params)\n  })\n}\n\nconst isOpen = ws => {\n  return ws.readyState === ws.OPEN\n}\n\nconst isConnecting = ws => {\n  return ws.readyState === ws.CONNECTING\n}\n\nclass SynchemyClient {\n  store = {}\n  actions = {}\n  asyncActions = {}\n  #messagingManager = {\n    client: null,\n    host: null,\n    onMessage: null,\n    listeners: {},\n    queue: []\n  }\n\n  constructor ({ host, actions = {} }) {\n    if (!host) {\n      throw new Error('You must provide a host to connect to.')\n    }\n\n    this.createConnection({ host })\n\n    Object.values(actions).forEach(action => {\n      this.registerAction(action.name, action.action, action.options)\n    })\n  }\n\n  createConnection ({ host }) {\n    this.#messagingManager.host = host\n    this.#messagingManager.client = new WebSocket(host)\n    this.#messagingManager.client.onmessage = ({ data }) => {\n      const response = JSON.parse(data)\n      const { message, messageId } = response\n      if (messageId) {\n        const { resolve, options } = this.#messagingManager.queue.find(m => m.message.messageId === messageId)\n        const { updateStore, processResponse } = options\n        const newResult = processResponse ? processResponse(message) : message\n        if (updateStore !== false) {\n          this.store = { ...this.store, ...newResult }\n          callListeners(this.#messagingManager.listeners, this.store, this.asyncActions)\n        }\n\n        resolve(newResult)\n        this.#messagingManager.queue = this.#messagingManager.queue.filter(m => m.message.messageId !== messageId)\n      } else {\n        if (this.#messagingManager.onMessage) {\n          this.#messagingManager.onMessage(message)\n        } else {\n          this.store = { ...this.store, ...message }\n          callListeners(this.#messagingManager.listeners, this.store, this.asyncActions)\n        }\n      }\n    }\n\n    this.#messagingManager.client.onclose = event => {\n      if (event.code !== 1000) {\n        // Error code 1000 means that the connection was closed normally.\n        if (typeof navigator !== 'undefined' && !navigator.onLine) {\n          throw new Error('You are offline. Please connect to the Internet and try again.')\n        }\n      }\n    }\n  }\n\n  subscribe (mapStateToProps = state => state, callback, shouldUpdate) {\n    const store = this.store\n    const loaders = this.asyncActions\n    const prevState = mapStateToProps(store, loaders)\n    const subscribeCallback = (prevState, store, loaders, listener) => {\n      if (listener.shouldUpdate) {\n        const newState = mapStateToProps(store, loaders)\n        if (listener.shouldUpdate(prevState, newState)) {\n          listener.prevState = newState\n          return debouncePerAnimationFrame(callback, newState)\n        }\n        return\n      }\n\n      const newState = mapStateToProps(store, loaders)\n      if (containsChange(newState, prevState)) {\n        listener.prevState = newState\n        return debouncePerAnimationFrame(callback, newState)\n      }\n    }\n\n    const listener = { subscribeCallback, prevState, shouldUpdate }\n    const listenerId = uuid()\n    this.#messagingManager.listeners[listenerId] = listener\n    return listenerId\n  }\n\n  unsubscribe (listenerId) {\n    const { [listenerId]: _, ...otherListeners } = this.#messagingManager.listeners\n    this.#messagingManager.listeners = otherListeners\n  }\n\n  onMessage (func) {\n    this.#messagingManager.onMessage = func\n  }\n\n  send (message, options = {}) {\n    return new Promise((resolve, reject) => {\n      const getMessage = message => {\n        if (typeof message === 'function') {\n          return message(this.store)\n        }\n\n        return message\n      }\n      const newMessage = { message: getMessage(message), messageId: uuid() }\n      this.#messagingManager.queue.push({ message: newMessage, resolve, options })\n      if (isOpen(this.#messagingManager.client)) {\n        this.#messagingManager.client.send(JSON.stringify(newMessage))\n      } else {\n        if (!isConnecting(this.#messagingManager.client)) {\n          this.createConnection({ host: this.#messagingManager.host })\n        }\n\n        this.#messagingManager.client.onopen = () => {\n          this.#messagingManager.client.send(JSON.stringify(newMessage))\n        }\n      }\n    })\n  }\n\n  updateStore (state) {\n    if (typeof state === 'function') {\n      const newState = state(this.store)\n      this.store = { ...this.store, ...newState }\n\n      callListeners(this.#messagingManager.listeners, this.store, this.asyncActions)\n    } else {\n      this.store = { ...this.store, ...state }\n\n      callListeners(this.#messagingManager.listeners, this.store, this.asyncActions)\n    }\n  }\n\n  registerAction (actionName, action, options = {}) {\n    const getAction = (action, options) => {\n      if (options.debounce) {\n        return debounce(action, options.debounce)\n      }\n\n      if (options.throttle) {\n        return throttle(action, options.throttle)\n      }\n\n      return action\n    }\n\n    const newAction = getAction(action, options)\n    const methodName = actionName.split('_').map((word, index) => {\n      if (index === 0) {\n        return word.toLowerCase()\n      }\n\n      return `${word.substring(0, 1).toUpperCase()}${word.substring(1).toLowerCase()}`\n    }).join('')\n\n    this.asyncActions[methodName] = {\n      name: actionName,\n      loading: false\n    }\n\n    this.actions[methodName] = async (...args) => {\n      this.asyncActions[methodName] = {\n        ...this.asyncActions[methodName],\n        loading: true\n      }\n      callListeners(this.#messagingManager.listeners, this.store, this.asyncActions)\n      await newAction(...args)\n      this.asyncActions[methodName] = {\n        ...this.asyncActions[methodName],\n        loading: false\n      }\n      callListeners(this.#messagingManager.listeners, this.store, this.asyncActions)\n    }\n  }\n}\n\nexport default SynchemyClient\n"],"file":"client.js"}