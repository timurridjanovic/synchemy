{"version":3,"sources":["../src/requestAnimationFrame.js"],"names":["raf","window","requestAnimationFrame","fps","delay","animationStartTime","Date","now","previousCallTime","func","requestTime","timeout","Math","max","timeToCall","setTimeout","caf","cancelAnimationFrame","id","clearTimeout"],"mappings":";;;;;;;AAAO,IAAMA,GAAG,GAAI,YAAM;AACxB,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,qBAA5C,EAAmE;AACjE,WAAOD,MAAM,CAACC,qBAAd;AACD;;AAED,MAAMC,GAAG,GAAG,EAAZ;AACA,MAAMC,KAAK,GAAG,OAAOD,GAArB;AACA,MAAME,kBAAkB,GAAGC,IAAI,CAACC,GAAL,EAA3B;AACA,MAAIC,gBAAgB,GAAGH,kBAAvB;AACA,SAAO,UAAAI,IAAI,EAAI;AACb,QAAMC,WAAW,GAAGJ,IAAI,CAACC,GAAL,EAApB;AACA,QAAMI,OAAO,GAAGC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYT,KAAK,IAAIM,WAAW,GAAGF,gBAAlB,CAAjB,CAAhB;AACA,QAAMM,UAAU,GAAGJ,WAAW,GAAGC,OAAjC;AACAH,IAAAA,gBAAgB,GAAGM,UAAnB;AACA,WAAOC,UAAU,CAAC,YAAM;AACtBN,MAAAA,IAAI,CAACK,UAAU,GAAGT,kBAAd,CAAJ;AACD,KAFgB,EAEdM,OAFc,CAAjB;AAGD,GARD;AASD,CAlBkB,EAAZ;;;;AAoBA,IAAMK,GAAG,GAAI,YAAM;AACxB,MAAI,OAAOf,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACgB,oBAA5C,EAAkE;AAChE,WAAOhB,MAAM,CAACgB,oBAAd;AACD;;AAED,SAAO,UAACC,EAAD,EAAQ;AACbC,IAAAA,YAAY,CAACD,EAAD,CAAZ;AACD,GAFD;AAGD,CARkB,EAAZ","sourcesContent":["export const raf = (() => {\n  if (typeof window !== 'undefined' && window.requestAnimationFrame) {\n    return window.requestAnimationFrame\n  }\n\n  const fps = 60\n  const delay = 1000 / fps\n  const animationStartTime = Date.now()\n  let previousCallTime = animationStartTime\n  return func => {\n    const requestTime = Date.now()\n    const timeout = Math.max(0, delay - (requestTime - previousCallTime))\n    const timeToCall = requestTime + timeout\n    previousCallTime = timeToCall\n    return setTimeout(() => {\n      func(timeToCall - animationStartTime)\n    }, timeout)\n  }\n})()\n\nexport const caf = (() => {\n  if (typeof window !== 'undefined' && window.cancelAnimationFrame) {\n    return window.cancelAnimationFrame\n  }\n\n  return (id) => {\n    clearTimeout(id)\n  }\n})()\n"],"file":"requestAnimationFrame.js"}