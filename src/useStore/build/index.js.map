{"version":3,"sources":["../src/index.js"],"names":["useStore","synchemy","mapStateToProps","shouldUpdate","initialState","store","asyncActions","storeState","setStoreState","subscribeCallback","state","listenerId","subscribe","unsubscribe"],"mappings":";;;;;;;;;;;AAAA;;AAEA,IAAMA,QAAQ,GAAG,SAAXA,QAAW,CAAAC,QAAQ;AAAA,SAAI,UAACC,eAAD,EAAkBC,YAAlB,EAAmC;AAC9D,QAAMC,YAAY,GAAG,oBAAQ;AAAA,aAAMF,eAAe,CAACD,QAAQ,CAACI,KAAV,EAAiBJ,QAAQ,CAACK,YAA1B,CAArB;AAAA,KAAR,EAAsE,EAAtE,CAArB;;AAD8D,oBAE1B,qBAASF,YAAT,CAF0B;AAAA;AAAA,QAEvDG,UAFuD;AAAA,QAE3CC,aAF2C;;AAG9D,0BAAU,YAAM;AACd,UAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK,EAAI;AACjCF,QAAAA,aAAa,CAACE,KAAD,CAAb;AACD,OAFD;;AAIA,UAAMC,UAAU,GAAGV,QAAQ,CAACW,SAAT,CAAmBV,eAAnB,EAAoCO,iBAApC,EAAuDN,YAAvD,CAAnB;AAEA,aAAO,YAAM;AACXF,QAAAA,QAAQ,CAACY,WAAT,CAAqBF,UAArB;AACD,OAFD;AAGD,KAVD,EAUG,EAVH;AAYA,WAAOJ,UAAP;AACD,GAhBwB;AAAA,CAAzB;;eAkBeP,Q","sourcesContent":["import { useEffect, useState, useMemo } from 'react'\n\nconst useStore = synchemy => (mapStateToProps, shouldUpdate) => {\n  const initialState = useMemo(() => mapStateToProps(synchemy.store, synchemy.asyncActions), [])\n  const [storeState, setStoreState] = useState(initialState)\n  useEffect(() => {\n    const subscribeCallback = state => {\n      setStoreState(state)\n    }\n\n    const listenerId = synchemy.subscribe(mapStateToProps, subscribeCallback, shouldUpdate)\n\n    return () => {\n      synchemy.unsubscribe(listenerId)\n    }\n  }, [])\n\n  return storeState\n}\n\nexport default useStore\n"],"file":"index.js"}